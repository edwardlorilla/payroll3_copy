(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,r,t){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,r,t){var a,i=r||new FormData;for(var n in e)e.hasOwnProperty(n)&&(a=t?t+"["+n+"]":n,"object"!==s(e[n])||e[n]instanceof File?i.append(a,e[n]):o(e[n],i,n));return i}t.d(r,"a",function(){return o})},311:function(e,r,t){"use strict";t.r(r);var s={props:["image"],data:function(){return{imageUrl:this.image?"/upload/".concat(this.image):"",raw:""}},methods:{handleChange:function(e,r){this.$emit("file",e.raw),this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(e){var r="image/jpeg"===e.type,t=e.size/1024/1024<2;return r||this.$swal("Avatar picture must be JPG format!","","error"),t||this.$swal("Avatar picture size can not exceed 2MB!","","error"),r&&t}}},o=t(1),a=Object(o.a)(s,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-upload",{staticClass:"yum-avatar-uploader",attrs:{action:"/api/user/","auto-upload":!1,"show-file-list":!1,"on-change":e.handleChange,name:"file","before-upload":e.beforeAvatarUpload}},[!e.imageUrl&&e.image?t("img",{staticClass:"yum-avatar",attrs:{src:"/upload/100_"+e.image,alt:"yum-avatar"}}):e.imageUrl||e.image?t("img",{staticClass:"yum-avatar",attrs:{src:e.imageUrl,alt:"yum-avatar"}}):t("div",[t("i",{staticClass:"el-icon-plus yum-avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__text"},[e._v("Drop file here or "),t("em",[e._v("click to upload")])])]),e._v(" "),e.imageUrl||e.image?t("el-button",{on:{click:function(r){e.imageUrl=""}}},[e._v("Clear Image")]):e._e()],1)},[],!1,null,null,null).exports,i=t(108),n=t(4),l={components:{upload:a},data:function(){var e=new Date;return{month:e.getMonth(),year:e.getFullYear(),day:e.getDate(),isDisabled:!1,labelPosition:"left",errors:{},form:{id_number:"",name:"",email:"",password:"",confirm_password:""},checkAllRoles:!1,isIndeterminate:!0,roles:[],jobs:[],checkRoles:[],isUser:!1}},beforeRouteEnter:function(e,r,t){e.params.id?axios.get("/api/users/".concat(e.params.id)).then(function(e){t(function(r){return r.setData(e.data)})}).catch(function(e){e.response.statusText&&t(function(r){return Object(n.a)(r,e)})}):axios.get("/api/users/create").then(function(e){t(function(r){return r.setData(e.data)})}).catch(function(e){e.response.statusText&&t(function(r){return Object(n.a)(r,e)})})},beforeRouteUpdate:function(e,r,t){var s=this;e.params.id?axios.get("/api/users/".concat(e.params.id)).then(function(e){s.setData(e.data),t()}).catch(function(e){e.response.statusText&&t(function(r){return Object(n.a)(r,e)})}):t()},methods:{contains:function(e,r){for(var t=e.length;t--;)if(e[t]===r)return!0;return!1},handleCheckAllRolesChange:function(e){this.checkRoles=e?_.map(this.roles,"id"):[],this.isIndeterminate=!1},handleCheckedRolesChange:function(e){var r=this,t=e.length;r.contains(e,3)?r.isUser=!0:r.isUser=!1,r.checkAllRole=t===r.roles.length,r.isIndeterminate=t>0&&t<r.roles.length},onSubmit:function(){var e=this;this.$refs.form.validate(function(r){e.isDisabled=!0,e.errors=[];var t=e.$route.params.id,s=Object(i.a)(e.form);t&&s.append("id",t),s.append("url",e.$route.fullPath),axios.post("/api/users",s).then(function(r){e.$swal("".concat(e.$route.params.id?"Update":"Created"," successfully!"),"","success"),e.isDisabled=!1}).catch(function(r){r.response.data.errors&&r.response.data.message&&(e.errors=r.response.data.errors,e.$swal(r.response.data.statusText,r.response.data.message,"error")),e.isDisabled=!1})})},setData:function(e){var r=this;r.roles=e.roles,r.jobs=e.jobs,e.user?(r.form=e.user,r.form.date_started="".concat(r.year,"-").concat(parseInt(r.month)+1<10?"0"+r.month:r.month,"-").concat(r.day),r.form.salary=9906,r.checkRoles=_.map(r.form.roles,"id"),r.contains(r.checkRoles,3)?r.isUser=!0:r.isUser=!1):(r.isUser=!0,r.checkRoles=[3])}}},m=Object(o.a)(l,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"form",attrs:{"label-position":"labelPosition",size:"small",model:e.form},nativeOn:{submit:function(r){return r.preventDefault(),e.onSubmit(r)}}},[t("el-form-item",{class:e.errors.file?"is-error is-required":"",attrs:{label:"Photo"}},[t("upload",{attrs:{removeUrl:"/api/users",image:e.form.image?e.form.image.url:""},on:{file:function(r){e.form.file=r}}}),e._v(" "),e._l(e.errors.file,function(r){return e.errors.file?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.id_number?"is-error is-required":"",attrs:{label:"ID Number"}},[t("el-input",{attrs:{type:"number",required:""},model:{value:e.form.id_number,callback:function(r){e.$set(e.form,"id_number",r)},expression:"form.id_number"}}),e._v(" "),e.errors.id_number?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(e.errors.id_number[0])+"\n        ")]):e._e()],1),e._v(" "),t("el-form-item",{class:e.errors.name?"is-error is-required":"",attrs:{label:"Name"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),e._v(" "),e._l(e.errors.name,function(r){return e.errors.name?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.address?"is-error is-required":"",attrs:{label:"Address"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}}),e._v(" "),e._l(e.errors.address,function(r){return e.errors.address?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.incase_of_emergency?"is-error is-required":"",attrs:{label:"Incase of emergency"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.incase_of_emergency,callback:function(r){e.$set(e.form,"incase_of_emergency",r)},expression:"form.incase_of_emergency"}}),e._v(" "),e._l(e.errors.incase_of_emergency,function(r){return e.errors.incase_of_emergency?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.date_started?"is-error is-required":"",attrs:{label:"Date Started"}},[t("el-input",{attrs:{type:"date",required:""},model:{value:e.form.date_started,callback:function(r){e.$set(e.form,"date_started",r)},expression:"form.date_started"}}),e._v(" "),e._l(e.errors.date_started,function(r){return e.errors.date_started?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.salary?"is-error is-required":"",attrs:{label:"Monthly Rate"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.salary,callback:function(r){e.$set(e.form,"salary",r)},expression:"form.salary"}}),e._v(" "),e._l(e.errors.salary,function(r){return e.errors.salary?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.sss_number?"is-error is-required":"",attrs:{label:"SSS Number"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.sss_number,callback:function(r){e.$set(e.form,"sss_number",r)},expression:"form.sss_number"}}),e._v(" "),e._l(e.errors.sss_number,function(r){return e.errors.sss_number?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()}),e._v(" "),t("el-form-item",{class:e.errors.philhealth_number?"is-error is-required":"",attrs:{label:"Philhealth Number"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.philhealth_number,callback:function(r){e.$set(e.form,"philhealth_number",r)},expression:"form.philhealth_number"}}),e._v(" "),e._l(e.errors.philhealth_number,function(r){return e.errors.philhealth_number?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.pagibig_number?"is-error is-required":"",attrs:{label:"Pagibig Number"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.pagibig_number,callback:function(r){e.$set(e.form,"pagibig_number",r)},expression:"form.pagibig_number"}}),e._v(" "),e._l(e.errors.pagibig_number,function(r){return e.errors.pagibig_number?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2)],2),e._v(" "),t("el-form-item",{class:e.errors.sss_deduction?"is-error is-required":"",attrs:{label:"SSS Deduction"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.sss_deduction,callback:function(r){e.$set(e.form,"sss_deduction",r)},expression:"form.sss_deduction"}}),e._v(" "),e._l(e.errors.sss_deduction,function(r){return e.errors.sss_deduction?t("div",{staticClass:"el-form-item__error"},[e._v("\n        "+e._s(r)+"\n    ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.philhealth_deduction?"is-error is-required":"",attrs:{label:"PhilHealth Deduction"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.philhealth_deduction,callback:function(r){e.$set(e.form,"philhealth_deduction",r)},expression:"form.philhealth_deduction"}}),e._v(" "),e._l(e.errors.philhealth_deduction,function(r){return e.errors.philhealth_deduction?t("div",{staticClass:"el-form-item__error"},[e._v("\n        "+e._s(r)+"\n    ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.pagibig_deduction?"is-error is-required":"",attrs:{label:"PAGIBIG Deduction"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.pagibig_deduction,callback:function(r){e.$set(e.form,"pagibig_deduction",r)},expression:"form.pagibig_deduction"}}),e._v(" "),e._l(e.errors.pagibig_deduction,function(r){return e.errors.pagibig_deduction?t("div",{staticClass:"el-form-item__error"},[e._v("\n        "+e._s(r)+"\n    ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.sss_loan?"is-error is-required":"",attrs:{label:"SSS Loan"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.sss_loan,callback:function(r){e.$set(e.form,"sss_loan",r)},expression:"form.sss_loan"}}),e._v(" "),e._l(e.errors.sss_loan,function(r){return e.errors.sss_loan?t("div",{staticClass:"el-form-item__error"},[e._v("\n        "+e._s(r)+"\n    ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.pagibig_loan?"is-error is-required":"",attrs:{label:"PAGIBIG Loan"}},[t("el-input",{attrs:{type:"text",required:""},model:{value:e.form.pagibig_loan,callback:function(r){e.$set(e.form,"pagibig_loan",r)},expression:"form.pagibig_loan"}}),e._v(" "),e._l(e.errors.pagibig_loan,function(r){return e.errors.pagibig_loan?t("div",{staticClass:"el-form-item__error"},[e._v("\n        "+e._s(r)+"\n    ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.job_id?"is-error is-required":"",attrs:{label:"Job/Position"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{required:""},model:{value:e.form.job_id,callback:function(r){e.$set(e.form,"job_id",r)},expression:"form.job_id"}},e._l(e.jobs,function(r){return t("el-option",{key:r.id,attrs:{label:r.job_title,value:r.id}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(r.job_title))])])}),1),e._v(" "),e._l(e.errors.job_id,function(r){return e.errors.job_id?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.time?"is-error is-required":"",attrs:{label:"Time"}},[t("div",{staticClass:"el-date-editor el-range-editor el-input__inner el-date-editor--timerange is-active",staticStyle:{width:"100%"}},[t("i",{staticClass:"el-input__icon el-range__icon el-icon-time"}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.time_in,expression:"form.time_in"}],staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:"Start time",type:"time"},domProps:{value:e.form.time_in},on:{input:function(r){r.target.composing||e.$set(e.form,"time_in",r.target.value)}}}),t("span",{staticClass:"el-range-separator"},[e._v("-")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.time_out,expression:"form.time_out"}],staticClass:"el-range-input",attrs:{autocomplete:"off",type:"time",placeholder:"End time",name:""},domProps:{value:e.form.time_out},on:{input:function(r){r.target.composing||e.$set(e.form,"time_out",r.target.value)}}})]),e._v(" "),e._l(e.errors.time_in,function(r){return e.errors.time_in?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e.errors.time_out?e._l(e.errors.time_out,function(r){return t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")])}):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.email?"is-error is-required":"",attrs:{label:"Email"}},[t("el-input",{attrs:{type:"email",required:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}}),e._v(" "),e._l(e.errors.email,function(r){return e.errors.email?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.password?"is-error is-required":"",attrs:{label:"Password"}},[t("el-input",{attrs:{type:"password",required:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}}),e._v(" "),e._l(e.errors.password,function(r){return e.errors.password?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",{class:e.errors.confirm_password?"is-error is-required":"",attrs:{label:"Confirm Password"}},[t("el-input",{attrs:{type:"password",required:""},model:{value:e.form.confirm_password,callback:function(r){e.$set(e.form,"confirm_password",r)},expression:"form.confirm_password"}}),e._v(" "),e._l(e.errors.confirm_password,function(r){return e.errors.confirm_password?t("div",{staticClass:"el-form-item__error"},[e._v("\n            "+e._s(r)+"\n        ")]):e._e()})],2),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isDisabled},on:{click:e.onSubmit}},[e._v(e._s(e.$route.params.id?"Update":"Create")+"\n        ")]),e._v(" "),t("el-button",{on:{click:function(r){return e.$router.push({name:"view-users"})}}},[e._v("Cancel")])],1)],1)},[],!1,null,null,null);r.default=m.exports},4:function(e,r,t){"use strict";r.a=function(e,r){401===r.response.status?window.location.href=window.location.href:404===r.response.status?e.$router.push({name:"not_found"}):e.$swal(r.response.data.statusText,r.response.data.message,"error")}}}]);