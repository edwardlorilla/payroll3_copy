(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{108:function(t,e,a){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,a){var o,r=e||new FormData;for(var i in t)t.hasOwnProperty(i)&&(o=a?a+"["+i+"]":i,"object"!==s(t[i])||t[i]instanceof File?r.append(o,t[i]):n(t[i],r,i));return r}a.d(e,"a",function(){return n})},313:function(t,e,a){"use strict";a.r(e);var s={props:["image"],data:function(){return{imageUrl:this.image?"/upload/".concat(this.image):"",raw:""}},methods:{handleChange:function(t,e){this.$emit("file",t.raw),this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$swal("Avatar picture must be JPG format!","","error"),a||this.$swal("Avatar picture size can not exceed 2MB!","","error"),e&&a}}},n=a(1),o=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"yum-avatar-uploader",attrs:{action:"/api/user/","auto-upload":!1,"show-file-list":!1,"on-change":t.handleChange,name:"file","before-upload":t.beforeAvatarUpload}},[!t.imageUrl&&t.image?a("img",{staticClass:"yum-avatar",attrs:{src:"/upload/"+t.image,alt:"yum-avatar"}}):t.imageUrl||t.image?a("img",{staticClass:"yum-avatar",attrs:{src:t.imageUrl,alt:"yum-avatar"}}):a("div",[a("i",{staticClass:"el-icon-plus yum-avatar-uploader-icon"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),a("em",[t._v("click to upload")])])]),t._v(" "),t.imageUrl||t.image?a("el-button",{on:{click:function(e){t.imageUrl=""}}},[t._v("Clear Image")]):t._e()],1)},[],!1,null,null,null).exports,r=a(108),i={components:{upload:o},data:function(){return{setting_d:[]}},beforeRouteEnter:function(t,e,a){axios.get("/api/settings/").then(function(t){a(function(e){return e.setData(t.data)})}).catch(function(t){t.response.statusText&&a(function(e){return e.$swal(t.response.data.statusText,t.response.data.message,"error")})})},beforeRouteUpdate:function(t,e,a){var s=this;axios.get("/api/settings").then(function(t){s.setData(t.data),a()}).catch(function(t){t.response.statusText&&a(function(e){return e.$swal(t.response.data.statusText,t.response.data.message,"error")}),401===t.response.status&&(window.location.href=window.location.href)})},methods:{setData:function(t){this.setting_d=t},form_m:function(){var t=this,e=Object(r.a)(t.setting_d);axios.post("/api/settings",e).then(function(e){t.$store.dispatch("settingChange",e.data),t.$swal("Change Setting Successfully! ","","success")}).catch(function(t){t.response.statusText&&next(function(e){return e.$swal(t.response.data.statusText,t.response.data.message,"error")}),401===t.response.status&&(window.location.href=window.location.href)})}}},l=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.setting_d?a("form",{ref:"form",staticClass:"form-horizontal",on:{submit:function(e){return e.preventDefault(),t.form_m(e)}}},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputName"}},[t._v("Name")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.setting_d.name,expression:"setting_d.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"Name"},domProps:{value:t.setting_d.name},on:{input:function(e){e.target.composing||t.$set(t.setting_d,"name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"upload"}},[t._v("Upload")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("upload",{attrs:{removeUrl:"/api/users",image:t.setting_d.image?t.setting_d.image.url:""},on:{file:function(e){t.setting_d.file=e}}})],1)]),t._v(" "),t._m(1)]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"text-center"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2 col-sm-10"},[e("input",{staticClass:"btn btn-danger",attrs:{type:"submit"}})])])}],!1,null,null,null);e.default=l.exports}}]);