(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{314:function(t,e,a){"use strict";a.r(e);var n={props:["leave"],data:function(){return{countDownDate:new Date(this.leave.date_due_for_return).getTime(),startDateNow:new Date(this.leave.date_issued).getTime(),date:"",days:0,hours:0,minutes:0,seconds:0,distance:0}},computed:{dateTime:function(){var t=this;return t.startDateNow<=t.$root.now&&t.countDownDate>=t.$root.now?(t.distance=t.countDownDate-t.$root.now,t.days=Math.floor(t.distance/864e5),t.hours=Math.floor(t.distance%864e5/36e5),t.minutes=Math.floor(t.distance%36e5/6e4),t.seconds=Math.floor(t.distance%6e4/1e3)):t.startDateNow>=t.$root.now&&t.countDownDate>=t.$root.now&&(t.distance=t.countDownDate-t.$root.now,t.days=Math.floor(t.distance/864e5),t.hours=Math.floor(t.distance%864e5/36e5),t.minutes=Math.floor(t.distance%36e5/6e4),t.seconds=Math.floor(t.distance%6e4/1e3)),t.startDateNow<=t.$root.now&&t.countDownDate>=t.$root.now?{status:"Starting",date:"".concat(t.days,"d ").concat(t.hours,"h ").concat(t.minutes,"m ").concat(t.seconds,"s")}:t.startDateNow>=t.$root.now&&t.countDownDate>=t.$root.now?{status:"Pending",date:"".concat(t.days,"d ").concat(t.hours,"h ").concat(t.minutes,"m ").concat(t.seconds,"s")}:{status:"Due Date",date:""}}}},o=a(1),s=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card",class:"Starting"===t.dateTime.status?"border-success":"Pending"===t.dateTime.status?"border-primary":"border-danger"},[a("div",{staticClass:"card-header"},[a("h5",{staticClass:"card-title"},[t._v(t._s(""+(t.leave.user?t.leave.user.name:"")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-text"},[a("div",[t._v("\n            Start at: "+t._s(""+t.$root.moment(t.leave.date_issued).format("YYYY-MM-DD hh:mm:ss a"))+"\n        ")]),t._v(" "),a("div",[t._v("\n            End at: "+t._s(""+t.$root.moment(t.leave.date_due_for_return).format("YYYY-MM-DD hh:mm:ss a"))+"\n        ")])])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("span",{staticClass:"badge",class:"Starting"===t.dateTime.status?"badge-success":"Pending"===t.dateTime.status?"badge-primary":"badge-danger"},[t._v(t._s(t.dateTime.status))]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v(t._s(t.dateTime.date))])])])])},[],!1,null,null,null).exports,r=a(4),c={components:{leave:s},data:function(){return{pagerCount:5,leaves:[],current_page:null,per_page:null,total:null,loading:!1}},computed:{handleBorrow:function(){return!_.isEmpty(this.leaves)}},beforeRouteEnter:function(t,e,a){axios.get("/api/holidays",{params:t.query}).then(function(t){a(function(e){return e.setData(t.data)})}).catch(function(t){t.response.statusText&&a(function(e){return Object(r.a)(e,t)})})},beforeRouteUpdate:function(t,e,a){var n=this;axios.get("/api/holidays",{params:t.query}).then(function(t){n.setData(t.data),a()}).catch(function(t){t.response.statusText&&a(function(e){return Object(r.a)(e,t)})})},methods:{setData:function(t){this.leaves=t.data,this.total=t.total,this.current_page=t.current_page,this.per_page=t.per_page},handleSortChange:function(t){var e=_.clone(this.$route.query);e.column=t.prop,e.direction="ascending"==t.order?"asc":"desc",this.onRouteChange(e)},handleCurrentChange:function(t){var e=_.clone(this.$route.query);e.page=t,this.onRouteChange(e)},onRouteChange:function(t){var e=this;e.loading=!0,e.$router.push({path:"".concat(e.$route.path),query:t},function(){e.loading=!1},function(){e.loading=!1})}}},i=Object(o.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.handleBorrow?a("div",{staticClass:"card-deck"},t._l(t.leaves,function(t){return a("leave",{key:t.id,attrs:{leave:t}})}),1):a("span",[t._v("No Result")]),t._v(" "),t.leaves.length>0?a("div",{staticClass:"card-footer",staticStyle:{"margin-top":"12px"}},[a("el-pagination",{attrs:{"current-page":t.current_page,"pager-count":t.pagerCount,"page-size":t.per_page,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()])},[],!1,null,null,null);e.default=i.exports},4:function(t,e,a){"use strict";e.a=function(t,e){401===e.response.status?window.location.href=window.location.href:404===e.response.status?t.$router.push({name:"not_found"}):t.$swal(e.response.data.statusText,e.response.data.message,"error")}}}]);